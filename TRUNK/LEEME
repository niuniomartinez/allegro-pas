 ______   ___    ___
/\  _  \ /\_ \  /\_ \
\ \ \L\ \\//\ \ \//\ \      __     __   _ __   ___        __    ___      ____
 \ \  __ \ \ \ \  \ \ \   /'__`\ /'_ `\/\`'__\/ __`\    /'__`\ /\__`\  /'___/
  \ \ \/\ \ \_\ \_ \_\ \_/\  __//\ \L\ \ \ \//\ \L\ \__/\ \L\ \\/ __ \/\____`\
   \ \_\ \_\/\____\/\____\ \____\ \____ \ \_\\ \____/\_\ \  __//\____/\/\____/
    \/_/\/_/\/____/\/____/\/____/\/___L\ \/_/ \/___/\/_/\ \ \/ \/___/  \/___/
                                   /\____/               \ \_\
     Versión 4.4.5                 \_/__/                 \/_/

  Un envoltorio para utilizar la biblioteca Allegro en Pascal
  por Ñuño Martínez, 31 de Octubre de 2015.



======
Índice
======

 - Introducción
 - Características
 - Licencia
 - Instrucciones de instalación
 - Documentación
 - Distribuir programas que usan Allegro.pas
 - Se busca colaboración
 - Cómo buscar y recibir ayuda.



============
Introducción
============

  Allegro.pas es un envoltorio que permite utilizar la biblioteca Allegro con
  el compilador Free Pascal.

  En principio la he programado para uso propio, por lo que no he incluido
  toda la funcionalidad disponible en Allegro.  Aun así,  la iré corrigiendo y
  ampliando según vaya necesitándose.  También administraré las modificaciones
  o añadidos que lleguen a mis manos para que estén disponibles para todos.



===============
Características
===============

  Preparada para ser utilizada en sistemas Windows y GNU/Linux, tanto 32bit
  como 64 bit.  Debería ser sencillo de utilizar en otros sistemas POSIX tales
  como MacOS o BSD, y se agradecerán los informes del éxito o fracaso en estos
  sistemas y cualquier otro así como cualquier ayuda que pueda facilitar.

  Funciones de dibujo, incluyendo puntos, líneas, rectángulos, 'sprites', etc.
  Soporta recorte, transparencia, efectos de iluminación y puede dibujarse
  diréctamente en la pantalla o en memoria.

  Ejecución en pantalla completa o en ventanas de distintos tamaños y con
  profundidad de color de 8, 15, 16, 24 y 32 bits por pixel.

  Animación de archivos FLIC.

  Ejecución de música MIDI y hasta 64 efectos sonoros imultáneos, permitiendo
  bucles, sonido estéreo, modificación de volumen, velocidad, etc.

  Fácil acceso al teclado, ratón y mandos de juego, así como temporizadores de
  alta precisión.

  Rutinas para leer y escribir archivos comprimidos en formato LZSS.

  Objetos, procedimientos y funciones para la creación de diálogos y menús
  de forma simple.

  Dibujo de polígonos 3D con texturas y transparencias.  Además incluye
  técnicas como z-buffer y s-buffer.



========
Licencia
========

  Allegro y Allegro.pas son un regalo (gift-ware).  Fueron creados por un grupo
  de personas en cooperación, y le es entregado a usted libremente como regalo.
  Puede usarla, modificarla, distribuirla y, en definitiva, hackearla de
  cualquier forma que desee y no tiene que entregarnos nada a cambio.  Sin
  embargo, si le gusta este producto le rogamos que nos lo agradezca haciendo
  un regalo a la comunidad de Allegro.  Este puede ser escribir una extensión,
  facilitar una descripción de errores útil, hacer alguna mejora a la
  biblioteca, o simplemente publicar las fuentes de su programa de forma que
  otras personas puedan aprender de él.  Si usted redistribuye partes de este
  código o hace un juego con él, sería estupendo si menciona Allegro en alguna
  parte de los créditos, pero no es necesario que lo haga.  Confiamos que no
  abusará de nuestra generosidad.

   Disclaimer:

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT.  IN NO EVENT
   SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
   FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
   ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
   DEALINGS IN THE SOFTWARE.



============================
Instrucciones de instalación
============================

  Antes de comenzar, recuerde que debe instalar la biblioteca Allegro y el
  compilador Free Pascal.

La biblioteca Allegro
---------------------

  Recuerde que Allegro.pas es un envoltorio para usar la biblioteca Allegro con
  compiladores Pascal.  Allegro y Allegro.pas son dos bibliotecas y proyectos
  diferentes, por lo que no debe confundirlos entre sí.  Por tanto, necesita la
  biblioteca Allegro "original" para que Allegro.pas funcione.

  Esta versión de Allegro.pas es compatible con la rama 4.4 de la biblioteca
  Allegro.  Esto significa que puede utilizar cualquier versión de Allegro que
  comience con el número 4.4 (como la 4.4.0 RC, 4.4.0, 4.4.1, etc) pero no con
  versiones anteriores (4.2, 3.0) ni posteriores (4.9, 5.0).

  Si está usando Windows, puede usar la versión precompilada de Allegro que se
  encuentra en http://sourceforge.net/projects/allegro-pas/files/allegro-pas-bin/
  Tenga en cuenta que esta versión puede ser más vieja que la última publicada,
  pero es suficientemente estable.

  La mejor opción si está usando GNU/Linux es bajarse las fuentes desde la web
  de Allegro y compilarla.  El propio paquete incluye instrucciones de cómo
  hacerlo.

El compilador de Pascal
-----------------------

  NOTA: La versión actual NO es compatible con Delphi, debido a que este
	compilador no es capaz de compartir variables con bibliotecas de
	enlace dinámcio (al menos no en las versiones de Delphi que he usado).
	Una versión anterior de Allegro.pas (4.2) lo permitía usando una
	biblioteca intermedia, pero obligaba al uso de punteros y más funciones
	de una forma muy poco natural y cómoda, por lo que se avandonó.
	La versión 5.0 de Allegro, al no usar variables, volverá a ser
	compatible con Delphi.


  Puede obtener el compilador Free Pascal desde su página web sita en
  http://www.freepascal.org/, o bien usar la incluída en el entorno IDE Lazarus
  que encontrará en http://www.lazarus.freepascal.org/.  Ambos paquetes son
  fáciles de instalar.

Compilar la demostración y los ejemplos de Allegro.pas
------------------------------------------------------

  Para compilar los ejemplos y el juego de demostración, abra una consola de
  comandos y sitúese en el directorio donde ha descomprimido el paquete de
  distribución de Allegro.pas, por ejemplo ejecutando el comando
  "cd allegro.pas".  Ejecute el guión "fix.bat", si utiliza Windows, o
  "./fix.sh", si utiliza GNU/Linux o similar, y siga las instrucciones de la
  pantalla.  Finalmente ejecute el comando "make";  esto debería ser suficiente
  para compilar los ejemplos y el juego de demostración.  Si se produce algún
  error, asegúrese que tanto el compilador como la biblioteca Allegro y
  cualquier otra biblioteca adicional están correctamente instalados y
  configurados.  Si aun así tiene problemas, lea la sección "Información de
  contacto" para recibir más información.

Usar Allegro.pas en sus programas
---------------------------------

  Para utilizar Allegro.pas en sus programas, primero deberá configurar el
  compilador para que pueda encontrar la biblioteca.  Para ello puede escribir
  esta información en el archivo de configuración "fpc.cfg" o utilizar las
  opciones de la línea de comandos.

  Use los parámetros "-FuUnitPath" y "-FiIncludePath" para indicar dónde se
  encuentra el subdirectorio "lib" de Allegro.pas.  Por ejemplo:
  fpc -FuD:\allegro.pas\lib -FiD:\allegro.pas\lib

  Tenga en cuenta que, puesto que la biblioteca Allegro está escrita en C y
  Ensamblador y está optimizada a muy bajo nivel, hay partes que pueden entrar
  en conflicto con algunas opciones del compilador Free Pascal, en especial en
  lo referente al manejo de la memoria.  Por ejemplo, se ha comprobado que la
  opción "-Ct" parece interpretar erróneamente el uso que se hace de las pilas
  en las funciones de interrupción (por ejemplo, al_install_int) generando un
  error en tiempo de ejecución "202" ("Desbordamiento de pila o corrupción de
  pila") aun cuando esto no es así.  Lo mejor es usar las opciones que desee y,
  si se produce un error, comprobar si este se encuentra dentro o fuera de
  Allegro (por ejemplo, usando la herramienta GDB), y si se genera dentro de
  Allegro desactive la opción que de problemas.

  De la misma forma, algunos modos de dibujo de polígonos 3D pueden dar
  problemas en los modos gráficos de 15, 16, 24 y 32 bits por punto, aunque
  el resto sí lo hacen a la perfección.  Lea la documentación de la unidad al3d
  para más información al respecto.

Más información
---------------

  Existe una copia actualizada, en inglés, del proceso completo de instalación
  en la wiki de Allegro.pas.  No dude en visitarla si tiene cualquier duda.

  http://allegro-pas.sourceforge.net/wiki/



=============
Documentación
=============

  Si dispone de la utilidad pasdoc (http://pasdoc.sipsolutions.net/), puede
  generar la documentación en formato HTML utilizando el archivo makefile.
  Símplemente escriba el comando "make docs".

  Si no, puede descargarse la documentación desde la página de descargas
  del proyecto (http://allegro-pas.sourceforge.net/download) o consultarla
  en línea en http://allegro-pas.sourceforge.net/docs

  Revise, también, el contenido del directorio "resources".

  Si necesita más, vea la sección de "Información de contacto".



========================================
Distribuir programas que usan Alegro.pas
========================================

  Siga las indicaciones dadas en la documentación de Allegro para saber qué
  archivos deberá distribuir junto con su programa.



=====================
Se busca colaboración
=====================

  Si quiere, puede colaborar en la mejora y desarrollo de Allegro.pas y añadir
  su nombre a la lista de autores.  Se necesitan desde simples probadores hasta
  personas que ayuden a completar el manual de programación, que lo traduzcan a
  otros idiomas o que escriban las funciones que faltan, demostraciones y
  ejemplos de uso.

  Si desea colaborar, lea la siguiente sección y póngase en contacto *antes* de
  empezar a trabajar.



=======================
Información de contacto
=======================

  Encontrará la información referente a Allegro.pas y podrá encontrar las
  últimas versiones publicadas en http://allegro-pas.sourceforge.net.
  También encontrará una lista de correo donde podrá exponer sus dudas y
  hacer sugerencias, además de páginas "wiki" con documentación adicional.

  Otros foros interesantes sobre la programación de juegos, donde también
  pueden ayudarle si tiene problemas con Allegro.pas, en "Pascal Game
  Development" (http://www.pascalgamedevelopment.com/) en inglés.
  Sobre programación Pascal y Object Pascal en general puede visitar el Club
  Delphi (http://www.clubdelphi.com/) o la web Delphi Access
  (http://www.delphiaccess.com/).

  Si quiere obtener el máximo provecho, le recomendamos que siga las siguientes
  indicaciones:

    * Antes de hacer cualquier pregunta sobre la biblioteca, lea la
      documentación.  Si no encuentra la respuesta en ella o no entiende algo,
      entonces sí, diríjase al foro.  Si cree que falta algo en los documentos,
      no se explica correctamente o que hay errores, lo sabemos: ya dijimos que
      estamos trabajando en ello, ¿verdad?
    * Antes de enviar un mensaje compruebe si ya se ha comentado con
      anterioridad su duda o propuesta.  La lista de correos y los foros
      disponen de un buscador que facilita la tarea de comprobación.  Recuerde
      que el repetir las mismas preguntas, aunque sea en distintos foros, no
      asegura encontrar mejores o más rápidas respuestas.
    * Asegúrese de usar el idioma apropiado del foro.  Si nadie usa el
      castellano (o el idioma que sea) probablemente sea porque la mayoría no
      lo conoce.
    * Ponga en el asunto una frase que resuma su mensaje.  Frases como
      "Necesito ayuda" o "No funciona" tal vez no atraigan la atención de la
      gente que pueda ayudarle.  Utilize frases como "No se muestra el sprite
      donde quiero" o "No se reproduce el sonido correctamente".  Y no olvide
      indicar que está usando Allegro.pas;  de lo contrario podría obtener
      respuestas para otras bibliotecas (SDL, Pt, Delphix, etc.).
    * Si la consulta se refiere a un programa que ha escrito usted, procure
      incluir el código donde crea que está el problema.  No es preciso que
      incluya todo el programa (a menos que alguien se lo pida expresamente),
      sino tan solo el fragmento que dé contexto a su consulta.

  Siguiendo estas sencillas normas tendrá más posibilidades de obtener una
  respuesta rápida, correcta y adecuada a sus preguntas y sugerencias.
